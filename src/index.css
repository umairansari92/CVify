@import "tailwindcss";

@variant dark (&:where(.dark, .dark *));

/* 
  CVify Premium Design System v2
  Theme: Deep Orbital
*/

:root {
  /* Colors */
  --primary: #2563eb;
  --accent: #8b5cf6;
  --success: #10b981;

  /* Hierarchy (Light Mode) - Proper Dark/Medium/Light */
  --background: #f1f5f9; /* LIGHT: Lightest background */
  --midground: #ffffff; /* MEDIUM: Cards and surfaces */
  --foreground: #e2e8f0; /* DARK: Darker elements, borders */

  /* Text */
  --text-main: #0f172a; /* Dark text for light mode */
  --text-muted: #64748b; /* Muted text */

  /* Borders & Shadows */
  --border-subtle: #e2e8f0;
  --shadow-premium: 0 20px 25px -5px rgba(0, 0, 0, 0.05);
  --shadow-glow: 0 0 20px rgba(37, 99, 235, 0.2);
}

.dark {
  /* Colors - Shifted for depth */
  --primary: #60a5fa; /* Brighter blue for visibility */
  --accent: #c084fc; /* Brighter violet */
  --success: #34d399;

  /* Hierarchy (Dark Mode) - Proper Dark/Medium/Light */
  --background: #030712; /* DARK: Darkest background */
  --midground: #0f172a; /* MEDIUM: Medium dark for cards/surfaces */
  --foreground: #1e293b; /* LIGHT: Lighter for nested elements, borders */

  /* Text */
  --text-main: #f8fafc; /* Light text for dark mode */
  --text-muted: #94a3b8; /* Muted light text */

  /* Borders & Shadows */
  --border-subtle: rgba(255, 255, 255, 0.08);
  --shadow-premium: 0 25px 50px -12px rgba(0, 0, 0, 0.7);
  --shadow-glow: 0 0 30px rgba(59, 130, 246, 0.15);
}

@theme {
  --color-primary: var(--primary);
  --color-accent: var(--accent);
  --color-success: var(--success);

  --color-background: var(--background);
  --color-midground: var(--midground);
  --color-foreground: var(--foreground);

  /* Mapping for backwards compatibility */
  --color-surface: var(--midground);
  --color-action: var(--primary);

  --color-text-main: var(--text-main);
  --color-text-muted: var(--text-muted);
  --color-border-subtle: var(--border-subtle);

  /* Shadows */
  --shadow-premium: var(--shadow-premium);
  --shadow-glow: var(--shadow-glow);
}

@layer base {
  body {
    @apply bg-background text-text-main font-sans transition-all duration-300;
    min-height: 100vh;
  }
}

/* Premium Utilities */

.glass {
  background: rgba(255, 255, 255, 0.75);
  backdrop-filter: blur(24px) saturate(180%);
  -webkit-backdrop-filter: blur(24px) saturate(180%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.1);
}

.dark .glass {
  background: rgba(15, 23, 42, 0.75);
  backdrop-filter: blur(24px) saturate(180%);
  -webkit-backdrop-filter: blur(24px) saturate(180%);
  border: 1px solid rgba(255, 255, 255, 0.1);
  box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.5);
}

.premium-card {
  @apply bg-midground rounded-[2.5rem] border border-border-subtle shadow-premium transition-all duration-500 hover:-translate-y-1;
}

/* Form Styling - FIXING FOCUS ISSUES */
.input-premium {
  @apply w-full px-5 py-4 rounded-2xl bg-foreground/30 border-2 border-border-subtle 
         text-text-main placeholder:text-text-muted/50 outline-none transition-all font-bold;
  color: var(--text-main) !important;
}

.input-premium:focus {
  @apply border-primary ring-4 ring-primary/10;
  background: var(--midground) !important;
  color: var(--text-main) !important;
}

.input-premium::placeholder {
  color: var(--text-muted);
  opacity: 0.5;
}

/* Ensure textarea and select maintain text visibility */
textarea.input-premium,
select.input-premium {
  color: var(--text-main) !important;
}

textarea.input-premium:focus,
select.input-premium:focus {
  color: var(--text-main) !important;
  background: var(--midground) !important;
}

/* Buttons */
.btn-primary {
  @apply px-8 py-4 rounded-2xl font-black shadow-lg shadow-primary/20 
         hover:shadow-primary/40 hover:-translate-y-0.5 active:scale-95 transition-all;
  background: var(--primary) !important;
  color: white !important;
}

.btn-primary:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

.btn-secondary {
  @apply bg-midground text-text-main px-8 py-4 rounded-2xl font-black border border-border-subtle 
         hover:bg-foreground/20 transition-all;
  color: var(--text-main) !important;
}

/* Three.js Canvas Container */
.three-canvas-container {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 0;
  pointer-events: none;
  opacity: 1;
}

/* Mesh Background */
.bg-mesh {
  background-color: var(--background);
  background-image:
    radial-gradient(at 0% 0%, rgba(37, 99, 235, 0.2) 0px, transparent 50%),
    radial-gradient(at 100% 0%, rgba(139, 92, 246, 0.2) 0px, transparent 50%),
    radial-gradient(at 50% 100%, rgba(16, 185, 129, 0.15) 0px, transparent 50%);
}

.text-gradient {
  @apply bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent active:scale-95 transition-all;
}

@keyframes float {
  0%,
  100% {
    transform: translateY(0px);
  }
  50% {
    transform: translateY(-15px);
  }
}

.animate-float {
  animation: float 8s ease-in-out infinite;
}

/* SweetAlert2 Custom Styling */
.swal2-popup {
  background: var(--midground) !important;
  color: var(--text-main) !important;
  border-radius: 2rem !important;
  backdrop-filter: blur(20px) !important;
  border: 1px solid var(--border-subtle) !important;
}

.swal2-title {
  color: var(--text-main) !important;
  font-weight: 900 !important;
}

.swal2-content {
  color: var(--text-muted) !important;
}

.swal2-confirm {
  background: var(--primary) !important;
  border-radius: 1rem !important;
  font-weight: 800 !important;
  padding: 0.75rem 2rem !important;
}

.swal2-cancel {
  background: var(--foreground) !important;
  border-radius: 1rem !important;
  font-weight: 800 !important;
  padding: 0.75rem 2rem !important;
  color: var(--text-main) !important;
}
